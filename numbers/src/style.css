@import url("observablehq:default.css");
@import url("observablehq:theme-wide.css");

:root {
    --theme-foreground: #222222;
    --theme-background: #f2f2f2;
    --theme-background-alt: #ffffff;
    --theme-foreground-alt: #000000;
    --theme-foreground-muted: #444444;
    --theme-foreground-faint: #888888;
    --theme-foreground-fainter: #cccccc;
    --theme-foreground-faintest: #888888;
    --theme-foreground-focus: #000000;
    --theme-blue: #0e79fe;
    --theme-green: #3ca951;
    --theme-red: #ff725c;
    --theme-yellow: #efb118;
    --monospace: "JetBrains Mono", monospace;
    --serif: "JetBrains Mono", monospace;
    --sans-serif: "JetBrains Mono", monospace;
}

a {
    color: inherit;
    text-decoration: none;
    border-bottom: 1px solid #b1b1b1;
}

a:hover,
a[href]:hover,
a[href]:focus {
    border-bottom: 1px solid var(--theme-blue);
    text-decoration: none;
    color: var(--theme-blue);
}

a[href].observablehq-header-anchor {
    color: inherit;
    text-decoration: none;
    border-bottom: none;
}

a[href].observablehq-header-anchor:hover {
    color: var(--theme-blue);
}

strong {
    font-weight: bold;
}

p,
table,
figure,
figcaption,
h1,
h2,
h3,
h4,
h5,
h6,
.katex-display {
    max-width: 1280px;
}

h1,
h2 {
    font-weight: 400;
    text-transform: uppercase;
}

.card {
    border: solid 2px var(--theme-foreground-faintest);
    border-radius: 0rem;
}

#observablehq-toc {
    z-index: 1 !important;
    pointer-events: none !important;
}

#observablehq-toc nav {
    text-transform: uppercase;
    width: 192px;
    margin: 2rem 0;
    padding: 0 1rem;
    box-sizing: border-box;
    border-left: solid 0px var(--theme-foreground-faintest);
    z-index: 1 !important;
    pointer-events: auto !important;
}

#observablehq-toc nav a {
    pointer-events: auto !important;
}

aside#observablehq-toc {
    z-index: 1 !important;
    pointer-events: none !important;
    overflow: hidden !important;
}

#timeframe-selector {
    position: fixed !important;
    bottom: 20px !important;
    right: 20px !important;
    background: var(--theme-background-alt);
    border: 2px solid var(--theme-foreground-faintest);
    border-radius: 8px;
    padding: 1rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 999999 !important;
    max-width: 280px;
    text-transform: uppercase;
    font-family: var(--sans-serif);
    pointer-events: auto !important;
}

#timeframe-selector h3 {
    margin: 0 0 0.5rem 0;
    font-size: 0.875rem;
    text-transform: uppercase;
    font-weight: 600;
}

#timeframe-selector input[type="radio"] {
    margin-right: 0.5rem;
    pointer-events: auto !important;
    z-index: 999999 !important;
    position: relative;
}

#timeframe-selector label {
    display: block;
    margin-bottom: 0.25rem;
    font-size: 0.875rem;
    cursor: pointer;
    pointer-events: auto !important;
    z-index: 999999 !important;
    position: relative;
}

#timeframe-selector input[type="date"] {
    width: 100%;
    padding: 0.25rem;
    margin-top: 0.25rem;
    border: 1px solid var(--theme-foreground-faintest);
    border-radius: 4px;
    background: var(--theme-background);
    color: var(--theme-foreground);
    font-family: var(--sans-serif);
    pointer-events: auto !important;
    z-index: 999999 !important;
    position: relative;
}

.card:target {
    border: 4px solid var(--theme-blue);
}

/* WBR snippets below charts */
.kpi-snippet {
    color: var(--theme-foreground-muted);
    font-size: 0.95rem;
    margin: 0.5rem 0 1rem 0;
    max-width: none; /* allow full card width */
    width: 100%;
}

.kpi-snippet strong { font-weight: 600; }
.kpi-snippet .delta-pos { color: var(--theme-green); }
.kpi-snippet .delta-neg { color: var(--theme-red); }

/* ensure normal spacing for inline text */
.kpi-snippet { letter-spacing: normal; word-spacing: normal; }
